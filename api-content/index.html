{"posts":[{"title":"AtCoder åšé¢˜è®°å½•","content":"AtCoderRegularContest186AmodMGame2Difficultyï¼š1042å”å®Œäº†ï¼Œä¸ä¼šåšæ‰“è¡¨ï¼ˆå¤§ä¾¿ï¼‰é¢˜ï¼Œ1â‰¤nÃ—(nâˆ’1)2modmâ‰¤n1\\le\\frac{n\\times(n-1)}2\\modm\\len1â‰¤2nÃ—(nâˆ’1)â€‹modmâ‰¤næ—¶Bobï¼Œå¦åˆ™Aliceã€‚B+1and-1Difficultyï¼š1332æˆ‘éƒ½èƒ½åœºæœ€åæ•°åˆ—çš„çŠ¶æ€å›ºå®šï¼Œä»å‰å¾€åæ¨¡æ‹Ÿï¼Œå‰é¢æœ‰å¤šçš„å°±ç•™ä¸ªtagã€‚EAdjacentGCDDifficultyï¼š2185æ¬§æ‹‰å‡½æ•°ï¼Œæ•°è®ºæ¬§æ‹‰å‡½æ•°åæ¼”n=\\sum_{d|n}\\varphi(d)\\\\\\gcd(a,b)=\\sum_{d|\\gcd(a,b)}\\varphi(d)=\\sum_{d|a\\andd|b}\\varphi(d)å¯¹äºæœ¬é¢˜ï¼Œæ¯æ¬¡åŠ å…¥ä¸€ä¸ªaia_iaiâ€‹åï¼Œæ–°å¢ans+âˆ‘j=1iâˆ’1gcdâ¡(aj,ai)Ã—2jâˆ’1ans+\\sum_{j=1}^{i-1}\\gcd(a_j,a_i)\\times2^{j-1}ans+âˆ‘j=1iâˆ’1â€‹gcd(ajâ€‹,aiâ€‹)Ã—2jâˆ’1çš„è´¡çŒ®ã€‚ç”±äºgcdâ¡\\gcdgcdçš„å…¶ä¸­ä¸€é¡¹ç¡®å®šï¼Œåˆ™å¯ä»¥æšä¸¾aia_iaiâ€‹çš„å› æ•°dddï¼Œæ·»åŠ sumdÃ—Ï†(d)sum_d\\times\\varphi(d)sumdâ€‹Ã—Ï†(d)çš„è´¡çŒ®ã€‚æœ€åå¯¹äºæ¯ä¸ªå› æ•°dddï¼Œsumd+=2iâˆ’1sum_d+=2^{i-1}sumdâ€‹+=2iâˆ’1å³å¯ã€‚DRandomWalkonTreeDifficultyï¼š2649æ¨å¼å­ï¼ŒæœŸæœ›å°±æ˜¯èµ°å®Œnnnæ¡é•¿åº¦ä¸ºmmmçš„é“¾ã€‚èµ°å®Œä¸€æ¡é“¾çš„å……è¦æ¡ä»¶æ˜¯èµ°åˆ°å¶å­èŠ‚ç‚¹ï¼Œé’¦å®šdep0=0dep_0=0dep0â€‹=0ã€‚å®šä¹‰æœ‰æ•ˆç‚¹ä¸ºä¹‹å‰æ²¡åˆ«èµ°è¿‡çš„ç‚¹ã€‚fif_ifiâ€‹è¡¨ç¤ºä»æ·±åº¦ä¸ºiiiçš„æœ‰æ•ˆç‚¹èµ°åˆ°i+1i+1i+1çš„æœ‰æ•ˆç‚¹æœŸæœ›æ­¥æ•°ã€‚fi=12+1+fiâˆ’1+fi2fi=2+fiâˆ’1f_{i}=\\frac12+\\frac{1+f_{i-1}+f_{i}}2\\\\f_i=2+f_{i-1}fiâ€‹=21â€‹+21+fiâˆ’1â€‹+fiâ€‹â€‹fiâ€‹=2+fiâˆ’1â€‹å³æœ‰12\\frac1221â€‹çš„æ¦‚ç‡ç›´æ¥èµ°åˆ°ï¼Œå’Œå…ˆå¾€iâˆ’1i-1iâˆ’1èµ°å†èµ°å›æ¥ï¼Œå†åˆ°i+1i+1i+1çš„æ­¥æ•°æœŸæœ›ã€‚åˆå§‹åŒ–f0f_0f0â€‹ä¸å½“å‰æœ‰å¤šå°‘æ¡å·²ç»èµ°å®Œçš„é“¾ç›¸å…³ï¼Œå¹¶ä¸”å¦‚æœèµ°åˆ°äº†æ— æ•ˆç‚¹è¿˜è¦èµ°å›æ¥ã€‚è®¾å¯ä»¥èµ°åˆ°çš„æœ‰æ•ˆç‚¹æ•°ä¸ºkkkï¼Œpip_ipiâ€‹è¡¨ç¤ºä»æ·±åº¦ä¸ºiiiçš„ç‚¹èµ°åˆ°iâˆ’1i-1iâˆ’1çš„æ­¥æ•°æœŸæœ›ã€‚pppå®é™…ä¸Šåœ¨é“¾ä¸Šèµ°çš„æƒ…å†µå’Œfffç›¸åŒï¼Œæ•…pi=2+pi+1p_i=2+p_{i+1}piâ€‹=2+pi+1â€‹ï¼Œåˆå§‹åŒ–pm=1p_m=1pmâ€‹=1ã€‚f0=kn+(1âˆ’kn)Ã—(1+p1+f0)f0=n+(nâˆ’k)Ã—p1if_0=\\frac{k}{n}+(1-\\frac{k}{n})\\times(1+p_1+f_0)\\\\f_0=\\frac{n+(n-k)\\timesp_1}if0â€‹=nkâ€‹+(1âˆ’nkâ€‹)Ã—(1+p1â€‹+f0â€‹)f0â€‹=in+(nâˆ’k)Ã—p1â€‹â€‹å…ˆè®¡ç®—ä»nâˆ’1n-1nâˆ’1ä¸ªå¶å­å›åˆ°000å·ç‚¹çš„è´¡çŒ®ï¼Œå³ä¸º(nâˆ’1)Ã—âˆ‘i=1mpi(n-1)\\times\\sum_{i=1}^mp_i(nâˆ’1)Ã—âˆ‘i=1mâ€‹piâ€‹ã€‚å†è®¡ç®—ä»000å·ç‚¹åˆ°dep=1dep=1dep=1çš„æœ‰æ•ˆç‚¹åå†åˆ°å¶å­èŠ‚ç‚¹çš„è´¡çŒ®å’Œï¼Œå³ä¸ºâˆ‘i=1nâˆ‘j=1mfj\\sum_{i=1}^n\\sum_{j=1}^mf_jâˆ‘i=1nâ€‹âˆ‘j=1mâ€‹fjâ€‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n2)O(n^2)O(n2)ï¼ˆæ³¨ï¼šæ¯æ¬¡fjf_jfjâ€‹éƒ½éœ€è¦é‡æ–°è®¡ç®—ï¼Œå› ä¸ºf0f_0f0â€‹çš„å€¼ä¼šå˜ï¼‰ã€‚è§‚å¯Ÿåˆ°fi=2+fiâˆ’1f_i=2+f_{i-1}fiâ€‹=2+fiâˆ’1â€‹çš„å¼å­éå¸¸ç®€å•ï¼Œç”šè‡³æ˜¯ç­‰å·®æ•°åˆ—ï¼Œå¯ä»¥å¾—åˆ°é€šé¡¹å…¬å¼fi=f0+2Ã—(iâˆ’1)f_i=f_0+2\\times(i-1)fiâ€‹=f0â€‹+2Ã—(iâˆ’1)ï¼Œæ•…âˆ‘i=1mfi=âˆ‘i=1m(f0+2Ã—(iâˆ’1))=mÃ—f0+mÃ—(mâˆ’1)\\sum_{i=1}^mf_i=\\sum_{i=1}^m(f_0+2\\times(i-1))=m\\timesf_0+m\\times(m-1)i=1âˆ‘mâ€‹fiâ€‹=i=1âˆ‘mâ€‹(f0â€‹+2Ã—(iâˆ’1))=mÃ—f0â€‹+mÃ—(mâˆ’1)ä¼˜åŒ–åå°±å¯ä»¥O(1)O(1)O(1)æ±‚å‡ºf0f_0f0â€‹å’Œâˆ‘fi\\sumf_iâˆ‘fiâ€‹äº†ï¼Œå¤æ‚åº¦ä¸ºO(nlogâ¡2n)O(n\\log_2n)O(nlog2â€‹n)ï¼Œä½¿ç”¨é¢„å¤„ç†é€†å…ƒåšåˆ°O(n)O(n)O(n)ï¼Œä½†æ˜¯æˆ‘æ‡’äº†ã€‚Codep[m]=1;for(inti=m-1;i;i--)p[i]=imadd(p[i+1],2);intinvn=qpow(n,mod-2);intans=0,sum=0;for(inti=1;i&lt;=m;i++)madd(ans,p[i]);mmul(ans,n-1);for(inti=1;i&lt;=n;i++){intf0=immul(imadd(n,immul(n-i,p[1])),qpow(i,mod-2));madd(ans,immul(m,f0));madd(ans,immul(m,m-1));}AtCoderRegularContest186BTypicalPermutationDescriptorDifficultyï¼š1677èµ›æ—¶å·®ä¸€ç‚¹å†™å®Œçš„è®¡æ•°ï¼Œå”ä¸éš¾å¾—å‡ºå½“å‰åºåˆ—ä¸­pppæœ€å°çš„æ•°çš„ä½ç½®ï¼Œç„¶åä»è¿™ä¸€ç‚¹æ–­å¼€åå½¢æˆä¸¤ä¸ªæ–°åŒºé—´ï¼Œä¸¤ä¸ªåŒºé—´ç›¸äº’ç‹¬ç«‹ï¼Œåªè¦Ã—(râˆ’lpâˆ’l)\\times\\binom{r-l}{p-l}Ã—(pâˆ’lrâˆ’lâ€‹)å°†æ•°åˆ’åˆ†åˆ°ä¸¤ä¸ªåŒºé—´å³å¯ã€‚CBallandBoxDifficultyï¼š2451è´ªå¿ƒï¼Œåšå¼ˆæŒ‰å®¹é‡ä»å°åˆ°å¤§æ’åºï¼Œç›¸åŒå®¹é‡èŠ±è´¹ä»å¤§åˆ°å°ã€‚æœ€åçš„çŠ¶æ€ä¸€å®šå½¢å¦‚ViV_iViâ€‹æœ€å¤§çš„mâˆ’1m-1mâˆ’1ä¸ªä¼šåªè·å¾—111çš„è´¡çŒ®ï¼Œå‰©ä½™è·å¾—ViV_iViâ€‹çš„è´¡çŒ®ï¼Œå³s=âˆ‘i=1kâˆ’m+1Vi+mâˆ’1âˆ’âˆ‘i=1kPis=\\sum_{i=1}^{k-m+1}V_i+m-1-\\sum_{i=1}^kP_is=âˆ‘i=1kâˆ’m+1â€‹Viâ€‹+mâˆ’1âˆ’âˆ‘i=1kâ€‹Piâ€‹ã€‚å¯¹åç¼€ç”¨å¤§æ ¹å †ç»´æŠ¤æœ€å°çš„mâˆ’1m-1mâˆ’1ä¸ªViV_iViâ€‹ä½œä¸ºæ‰€é€‰çš„æ•°ä¸­æœ€å¤§çš„mâˆ’1m-1mâˆ’1ä¸ªï¼Œå‰©ä½™çš„é€‰å–æ‰€æœ‰[1,iâˆ’1][1,i-1][1,iâˆ’1]ä¸­(Viâˆ’Pi)(V_i-P_i)(Viâ€‹âˆ’Piâ€‹)ä¸ºæ­£çš„ï¼Œæ±‚å’Œå³å¯ã€‚AUndercluedDifficultyï¼š2511æ€§è´¨ï¼Œè½¬åŒ–å¥½å›°éš¾ã€‚çœ‹åˆ°01çŸ©é˜µï¼Œå°è¯•ç»™äºŒåˆ†å›¾å®šå‘ã€‚å½“ai,j=0a_{i,j}=0ai,jâ€‹=0æ—¶ï¼ŒLiâ†”RjL_i\\leftrightarrowR_jLiâ€‹â†”Rjâ€‹ï¼Œå½“ai,j=1a_{i,j}=1ai,jâ€‹=1æ—¶ï¼ŒRiâ†”LjR_i\\leftrightarrowL_jRiâ€‹â†”Ljâ€‹ï¼Œåˆ™ä¸¤ä¸ªçŸ©é˜µç›¸ä¼¼å³ä¸ºå¯¹äºæ¯ä¸ªç‚¹åœ¨ä¸¤ä¸ªå›¾ä¸­çš„å‡ºå…¥åº¦ç›¸åŒã€‚åŸçŸ©é˜µä¸Š(i,j)(i,j)(i,j)æ˜¯ä¸åŠ¨ç‚¹ï¼Œå½“ä¸”ä»…å½“åœ¨äºŒåˆ†å›¾ä¸­æ”¹å˜å›¾çš„å½¢æ€ä½†å‡ºå…¥åº¦ä¸å˜æ—¶ï¼Œä¸Šé¢è¿çš„è¾¹ä¸å˜ã€‚è€ƒè™‘å˜ä¸€æ¡è¾¹çš„æ–¹å‘åï¼Œä¼šç»§ç»­å½±å“åˆ«çš„ç‚¹ï¼ŒçŸ¥é“ç»•å›åŸç‚¹ï¼Œå³å½¢æˆä¸€ä¸ªç®€å•ç¯åæ‰ä¼šç»“æŸï¼Œåˆ™ä¸åŠ¨ç‚¹å³ä¸ºäºŒåˆ†å›¾ä¸Šä¸åœ¨ç®€å•ç¯ä¸Šçš„è¾¹ã€‚è½¬åŒ–åå°±ä¸å›°éš¾äº†ï¼Œè®¾dpi,j,kdp_{i,j,k}dpi,j,kâ€‹è¡¨ç¤ºå·¦éƒ¨ç‚¹å‰iiiä¸ªç‚¹å’Œå³éƒ¨ç‚¹å‰jjjä¸ªç‚¹ï¼Œå½¢æˆçš„ç¯èƒ½å¦è¦†ç›–æ°å¥½kkkæ¡è¾¹ã€‚æšä¸¾å·¦éƒ¨ç‚¹æ–°åŠ uuuä¸ªç‚¹ï¼Œå³éƒ¨ç‚¹æ–°åŠ vvvä¸ªç‚¹ï¼Œä¸”è¿™äº›ç‚¹å½¢æˆä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ã€‚æ–°è¦†ç›–æˆäº†uÃ—vu\\timesvuÃ—væ¡è¾¹ï¼Œå³uuuä¸ªå·¦éƒ¨ç‚¹éƒ½ä¼šå’Œvvvä¸ªå³éƒ¨ç‚¹çš„è¿è¾¹ä¸€ä¸€è¢«è¦†ç›–ã€‚å› ä¸ºæ˜¯å¯è¡Œæ€§dpï¼Œè½¬ç§»å¯ä»¥ç”¨bitsetï¼Œæ—¶é—´å¤æ‚åº¦é™ä¸ºO(n6Ï‰)\\mathcalO(\\frac{n^6}\\omega)O(Ï‰n6â€‹)ï¼Œä½†ä¸ç”¨ä¹Ÿèƒ½è¿‡ã€‚AtCoderRegularContest187DManyEasyOptimizationsDifficultyï¼š2880here","link":"https://yaohaoyou.github.io/AbsMatt.github.io/post/atcoder-solution/"},{"title":"CP duels","content":"##CF1368ESkiAccidentsæ¯”è¾ƒç¥çš„æ„é€ ï¼Œè¢«å¯¹æ‰‹10minç§’äº†ã€‚çœ‹åˆ°47\\frac4774â€‹å’Œoutiâ‰¤2out_i\\le2outiâ€‹â‰¤2ï¼Œç„¶åå°±åº”è¯¥æƒ³åˆ°47=2220+21+22\\frac47=\\frac{2^2}{2^0+2^1+2^2}74â€‹=20+21+2222â€‹ï¼Œå°è¯•å°†nnnåˆ’åˆ†ä¸º333ä¸ªé›†åˆã€‚æ„Ÿè§‰æ¯”è¾ƒç»“è®ºï¼Œæ‰€ä»¥ç›´æ¥è¯´äº†ã€‚å°†nnnåˆ’åˆ†æˆ333ä¸ªæ— äº¤ä¸”å¹¶ä¸ºå…¨é›†çš„é›†åˆA,B,CA,B,CA,B,Cï¼Œæ»¡è¶³âˆ€aâˆˆA,{âˆ€uâ†’a,uâˆˆC}\\foralla\\inA,\\{\\forallu\\rarra,u\\inC\\}âˆ€aâˆˆA,{âˆ€uâ†’a,uâˆˆC}âˆ€bâˆˆB,{âˆƒuâ†’b,uâˆˆA},{î€ âˆƒuâ†’b,uâˆˆB}\\forallb\\inB,\\{\\existu\\rarrb,u\\inA\\},\\{\\not\\existu\\rarrb,u\\inB\\}âˆ€bâˆˆB,{âˆƒuâ†’b,uâˆˆA},{î€ â€‹âˆƒuâ†’b,uâˆˆB}âˆ€câˆˆC,{âˆƒuâ†’c,uâˆˆB}\\forallc\\inC,\\{\\existu\\rarrc,u\\inB\\}âˆ€câˆˆC,{âˆƒuâ†’c,uâˆˆB}åˆ†ç±»è®¨è®ºä¸€ä¸‹ï¼Œä¸éš¾å‘ç°A,B,CA,B,CA,B,Cäº¤ä¸”å¹¶ä¸ºå…¨é›†ã€‚ç”±äºâˆ€bâˆˆB,âˆƒaâ†’b\\forallb\\inB,\\exista\\rarrbâˆ€bâˆˆB,âˆƒaâ†’bï¼Œâˆ£Bâˆ£â‰¤2âˆ£Aâˆ£|B|\\le2|A|âˆ£Bâˆ£â‰¤2âˆ£Aâˆ£ï¼ŒåŒç†ï¼Œâˆ£Bâˆ£â‰¤2âˆ£Câˆ£|B|\\le2|C|âˆ£Bâˆ£â‰¤2âˆ£Câˆ£ï¼Œå³4âˆ£Aâˆ£â‰¥2âˆ£Bâˆ£â‰¥âˆ£Câˆ£4|A|\\ge2|B|\\ge|C|4âˆ£Aâˆ£â‰¥2âˆ£Bâˆ£â‰¥âˆ£Câˆ£ï¼Œâˆ£Câˆ£â‰¤47n|C|\\le\\frac47nâˆ£Câˆ£â‰¤74â€‹nã€‚åˆ é™¤CCCä¸­çš„æ‰€æœ‰ç‚¹åAAAçš„å…¥åº¦éƒ½æ˜¯000ï¼ŒBBBçš„å‡ºåº¦éƒ½æ˜¯000ï¼Œæ•…æœ€å¤šåªæœ‰aâ†’ba\\rarrbaâ†’bçš„è¾¹ï¼Œæ»¡è¶³æ¡ä»¶ã€‚å› ä¸ºæ˜¯DAGï¼Œåˆ†é›†åˆæ—¶å¯ä»¥åšæ‹“æ‰‘æ’åºã€‚å¤æ‚åº¦çº¿æ€§ã€‚","link":"https://yaohaoyou.github.io/AbsMatt.github.io/post/cp-duels/"},{"title":"NOIP çŠ¹è®°","content":"æ›´çˆ½çš„é˜…è¯»ä½“éªŒå‰è¨€å‡ºåˆ†åå†å†™é‚®å¯„æ˜¯å¥½ä¹ æƒ¯ã€‚å‰æƒ…æè¦è¿™ç¯‡æ¸¸è®°æ˜¯åœ¨Day7å†™çš„ï¼Œå¯èƒ½æ¯”è¾ƒæš´èºï¼Œè®²ç©¶çœ‹å§ã€‚ä¸è¦æ¶è¯„ï¼Œçœ‹åˆ°å°±åˆ ã€‚Day0æ™šä¸Šæ²¡è¦åˆ°ä½“é”»ä¸çˆ½ã€‚Day16ç‚¹å¤šå°±èµ·äº†ï¼Œ7ï¼š00å‡ºå‘å»è€ƒåœºã€‚è¦ç”¨Sublimeï¼Œä¸çˆ½ã€‚å¼€T1ï¼Œå¥½ç­”è¾©ï¼ˆæ»¡è„‘å­å¾ªç¯æ’­æ”¾ï¼šä½ ä¸åˆ‡T1ä½ åˆ‡ä»€ä¹ˆé¢˜ï¼Œä½ ä¸åˆ‡é¢˜ä½ æ‰“ä»€ä¹ˆæ¯”èµ›ï¼‰ã€‚åº”è¯¥ç›´æ¥è´ªå¿ƒæ˜¯å¯¹çš„ï¼Œä½†æ˜¯ä¹Ÿä¸ç¡®å®šã€‚çŸ›ç›¾åç»ˆäºå¼€å†™äº†ï¼Œ1hå·¦å³ä¸€éè¿‡å¤§æ ·ä¾‹äº†ï¼Œçˆ½ï¼Œä¸Šä¸ªå•æ‰€å‹å‹æƒŠã€‚T2åº”è¯¥ä¸ç”¨çŸ©é˜µå¿«é€Ÿå¹‚ï¼Œç›´æ¥ç®—å°±è¡Œäº†ã€‚30minå†™å®Œï¼Œä¸€éè¿‡å¤§æ ·ä¾‹ï¼Œçˆ½ï¼ˆä¼ç¬”æ‰1.5hï¼Œæ”¾æ¾è®¸å¤šã€‚å¼€å§‹æ‹¼æš´åŠ›ï¼ŒT3æ˜¯ä»€ä¹ˆé¬¼ï¼Œè·³äº†ã€‚T4åº”è¯¥æ˜¯DSï¼Œæƒ³æƒ³æƒ³ã€‚ä¸ä¼šä¸€ç‚¹ï¼Œç›´æ¥æ‹¼éƒ¨åˆ†åˆ†ã€‚T3å®Œå…¨çœ‹ä¸æ‡‚æ˜¯åœ¨å¹²ä»€ä¹ˆï¼Œåªä¼šæš´åŠ›ï¼Œk=1k=1k=1éƒ½ä¸ä¼šï¼Œrlflã€‚æ„Ÿè§‰åé¢ä¸€ç›´åœ¨åç‰¢ï¼Œè¿æ‹å­éƒ½æ²¡ä¸Šï¼Œéƒ¨åˆ†åˆ†ä¹Ÿä¸å¤ªä¼šæ‰“ï¼ˆä¼ç¬”ä¼°åˆ†ï¼š100+100+12+36=248100+100+12+36=248100+100+12+36=248ã€‚å‡ºæ¥äº†ã€‚ä¸å‡ºæ„å¤–ï¼Œéƒ¨åˆ†åˆ†æ‰“å¾—å¤ªå°‘äº†ï¼ŒT3å¥½åƒå¾ˆå¤šéƒ½åº”è¯¥è¦ä¼šï¼ŒçœŸè¦å­¦è®¡æ•°äº†ã€‚Day7æ—©ä¸Šä¿¡æ¯ä¼šè€ƒã€‚ä¸‹åˆçŸ¥é“åˆ†äº†ï¼Œæ´›è°·ä¸Šæ²¡æŒ‚åˆ†ï¼Œçˆ½ï¼ï¼ˆä¼ç¬”1hlater......å¥½åƒT2æŒ‚äº†30ptsã€‚çœŸçš„æœäº†ï¼Œå¤šå†™äº†ä¸€ä¸ª=ã€‚ä¾ç…§æƒ¯ä¾‹ï¼Œä¸‹é¢æ”¾ä¸ªä»£ç ã€‚sort(a+1,a+n+1);for(inti=1;i&lt;=n;i++)if(a[i].fi==a[i+1].fi&amp;&amp;a[i].se!=a[i+1].se)returnputs(&quot;0&quot;),void();n=unique(a+1,a+n+1)-a-1;è§£é‡Šä¸€ä¸‹ï¼Œå› ä¸ºæœ‰å¤šæµ‹ï¼Œè€Œforå¾ªç¯ä¸­è®¿é—®åˆ°äº†an+1a_{n+1}an+1â€‹ï¼Œæ‰€ä»¥æœ‰å¯èƒ½åœ¨ä¸Šç»„å¤šæµ‹ä¸­an+1.fi=a_{n+1.fi}=an+1.fiâ€‹=å½“å‰å¤šæµ‹çš„an.fia_{n.fi}an.fiâ€‹ï¼Œç„¶åå°±å¤šåˆ¤äº†000ã€‚ä½†æ˜¯è¿™æ¦‚ç‡ä¸åº”è¯¥è¶…çº§å°å—ï¼ŒTâ‰¤10T\\le10Tâ‰¤10èƒ½ç»™æˆ‘æŒ‚6ä¸ªç‚¹ï¼Œæˆ‘#@!$!Y$!($&amp;(!&amp;)$!@&amp;$^&amp;@!$ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆ_log_çš„å¦‚æœans=0ans=0ans=0ä¸ä¸ºTç»„è¯¢é—®ä¸­çš„åç¼€å°±ä¼šé”™éƒ½èƒ½é€šè¿‡ï¼ŒCCFè´Ÿä¼—æœ›ã€‚ã€‚ã€‚çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦çƒ¦å¬è¯´misakaSç»„ä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯CCFæ•°æ®æ²¡æŒ‚ã€‚ç­‰æ­£å¼åˆ†å§ã€‚updï¼šè¢«éª—äº†ï¼ŒåªæŒ‚äº†151515ã€‚100+85+16+32=233100+85+16+32=233100+85+16+32=233ã€‚","link":"https://yaohaoyou.github.io/AbsMatt.github.io/post/noip2024/"},{"title":"CSP2024 ç…¤æµ","content":"æ›´çˆ½çš„é˜…è¯»ä½“éªŒå‰è¨€å‡ºåˆ†åå†å†™é‚®å¯„æ˜¯å¥½ä¹ æƒ¯ã€‚Day0è¿ç»­ä¸‰å¤©é£ç›˜ï¼Œçˆ½å®Œäº†ã€‚Day1ä¸Šåˆæ‰“Jï¼Œåº”è¯¥æ˜¯æœ€åä¸€åœºäº†ï¼Œå¼¥è¡¥å»å¹´æŒ‚åˆ†çš„é—æ†¾ã€‚åˆèµ›ç«Ÿç„¶AKäº†ï¼Œç›´æ¥å°è¯•åŒAKï¼ˆåˆèµ›+å¤èµ›ï¼‰ã€‚T1ä¼šã€‚T2ä¼šã€‚T3ä¼šï¼Œä¸Šæ‹ã€‚T4ä¸ä¼šã€‚ã€‚æˆ‘æ€ä¹ˆä¸ä¼šï¼Ÿï¼#ï¼@#ï¼#ï¼*&amp;@#%â€¦â€¦@#rrræ€ä¹ˆè¿™ä¹ˆå°ï¼Œä¸ä¼šæœ‰æ˜¯åˆ†å±‚å›¾å§ï¼ˆæ€ä¹ˆè¿ç»­ä¸¤å¹´T4æ”¾åˆ†å±‚å›¾ï¼‰ã€‚ä¼šäº†ï¼Œå†™å†™å†™ã€‚å†™å®Œï¼Œè·‘å¤§æ ·ä¾‹ï¼Œ2s+ã€‚æœ¬åœ°æœºå­æ€ä¹ˆè¿™ä¹ˆæ…¢ï¼å¡å¸¸ï¼Œå¡å¸¸ã€‚ç„¶åå°±å¡äº†1.5hï¼Œæ¯”èµ›ç»“æŸå‰15minå¡è¿‡äº†ï¼Œçˆ½ã€‚å‡ºè€ƒåœºï¼Œlbwå¼ºå®Œäº†ï¼Œæå‰ä¸¤å°æ—¶AKï¼Œ/bx/bx/bxã€‚è‡ç²‰ï¼š100+100+100+100=400=smalljoker100+100+100+100=400=\\text{smalljoker}100+100+100+100=400=smalljokerã€‚ä¸‹åˆæ‰“Sã€‚æ—©èµ·æ‹œé”¦é²¤ï¼Œrp++ï¼å¼€T1ï¼Œä¼šäº†ï¼å—¯ï¼ŸT1è¢«ç§’äº†ï¼ŸCCFçœŸæ˜¯è¶Šæ¥è¶Šä¼šå‡ºé¢˜äº†ã€‚ã€‚ã€‚ï¼ˆä¼ç¬”ï¼‰å¼€T2ï¼Œç»™ä¸€å †å¼å­ï¼Œè¿™é¢˜å……æ»¡å•è°ƒæ€§ï¼Œç¬¬ä¸€é—®ä¼šäº†ï¼Œä¸ŠäºŒåˆ†åæ±‚æœ€å°‘æœ‰å¤šå°‘ä¸ªç‚¹è¢«æ‰€æœ‰åŒºé—´è¦†ç›–ã€‚è¿™ã€‚ã€‚ã€‚æ€è€ƒä¸€ä¸‹å¾ˆå¯åšï¼ŒAcSaberåº”è¯¥æ‰“è¿‡ï¼Œä½†æˆ‘éƒ½æ˜¯è´ºçš„ï¼ˆåæ‚”ing...ï¼‰ã€‚ç„¶åå°±ä¼šäº†ã€‚å†™å†™å†™ã€‚å¡å¡å¡ã€‚è¿‡å¤§æ ·ä¾‹äº†ï¼Œçˆ½ï¼ç¨³ä¸€æ³¢ï¼Œå…ˆå†™åé¢æš´åŠ›ï¼Œ50+28æ‹¿ä¸‹ã€‚è¿™æ—¶è¿˜æœ‰1.5hå·¦å³ï¼Œç„¶åå°±è¿æ¥äº†å…¨åœºæœ€è¿·æƒ‘çš„æ“ä½œã€‚è«åå…¶å¦™å¼€å§‹çŒœä¸€æ³¢ï¼ŒT3è¶…çº§å›°éš¾ï¼Œç„¶åä¸ºäº†é˜²æ­¢æŒ‚å¤§åˆ†ï¼Œç„¶åå°±å¼€å§‹æ£€æŸ¥ä»£ç äº†ï¼Ÿæµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚æµ‹å¤§æ ·ä¾‹ï¼Œä¸¢è™šæ‹Ÿæœºã€‚ç„¶åè¿˜å‰©40minï¼Œç»§ç»­æ— è§†T3çš„å­˜åœ¨ï¼Œå¼€å§‹æ‹T2ã€‚å†™å†™å†™ï¼Œæ‹æ‹æ‹ã€‚ç„¶åæ¯”èµ›ç»“æŸéƒ½æ²¡æ‹é—®é¢˜ï¼Œæ¯”è¾ƒçˆ½äº†ã€‚å‡ºè€ƒåœºï¼Œlbwè–„çº±æˆ‘ï¼ŒT3æ€ä¹ˆè¢«åˆ‡çˆ†äº†ï¼Ÿï¼Ÿï¼Ÿï¼ˆCCFçœŸæ˜¯è¶Šæ¥è¶Šä¼šå‡ºé¢˜äº†ï¼Œå‘¼åº”ï¼‰ç®€å•æä¸€å˜´æˆ‘å°±ä¼šäº†ï¼Œæˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚æˆ‘æ˜¯å”é¾™ã€‚è‡ç²‰ï¼š100+100+50+28=278=bigjoker100+100+50+28=278=\\text{bigjoker}100+100+50+28=278=bigjokerã€‚DayÂ¿ç¥ç§˜é€”å¾„è·å¾—Jç»„çš„æ°‘é—´åˆ†æ•°ï¼Œæ€ä¹ˆT4æŒ‚äº†ç¬¬2ä¸ªç‚¹ï¼Œå¸ƒä»€ä¸ªé—¨ï¼ŒCCFçƒçƒäº†ã€‚Sç»„å¥½åƒæ²¡æœ‰æŒ‚åˆ†ã€‚DayÂ¿Â¿å‡ºåˆ†æ—¥ã€‚çœæµï¼š13:00-&gt;16:00-&gt;17:30ï¼ŒCCFä¸æ„§æ˜¯ä½ ã€‚Jï¼š100+100+100+100=400=smalljoker100+100+100+100=400=\\text{smalljoker}100+100+100+100=400=smalljokerã€‚åŒAKï¼ŒåŒå€æ»¡è¶³ã€‚Sï¼š100+100+50+28=278=bigjoker100+100+50+28=278=\\text{bigjoker}100+100+50+28=278=bigjokerã€‚æŒ‚åˆ†äº†ï¼Œä½†æ˜¯CCFåˆæŒ‚å›æ¥äº†ï¼ˆä¸æ„§æ˜¯ä½ ï¼‰ã€‚æœ€åæ”¾ä¸€ä¸‹Sç»„T3çš„éƒ¨åˆ†ä»£ç ï¼Œå¤šäºCCFç¥æœºï¼Œè¦ä¸ç„¶å°±æŒ‚15ptsäº†ï¼Œæˆ‘å†™çš„æ˜¯O(n2)O(n^2)O(n2)ï¼Œä¸‹é¢ä»£ç æ˜¯O(nÃ—maxn)O(n\\timesmaxn)O(nÃ—maxn)çš„ï¼Œä¸èƒ½å†™memsetï¼Œè¦forå¾ªç¯æ¸…ç©ºã€‚constintmaxn=2e5+10;lldp[2][maxn];for(inti=1;i&lt;=n;i++){mems(dp[i&amp;1],0);//DPè½¬ç§»}åœ¨çº¿è®¨ä¸€æ‰‹ä¸ƒçº§å‹¾ã€‚","link":"https://yaohaoyou.github.io/AbsMatt.github.io/post/csp2024/"},{"title":"å…‰é€Ÿå¹‚å­¦ä¹ ç¬”è®°","content":"å¤šæ¬¡è¯¢é—®axmodpa^x\\bmodpaxmodpã€‚é€‰å®šä¸€ä¸ªæ•°BBBï¼Œé¢„å¤„ç†å‡ºaimodp,iâˆˆ[0,B)a^i\\bmodp,i\\in[0,B)aimodp,iâˆˆ[0,B)å’ŒaiÃ—Bmodp,iâˆˆ[1,(pâˆ’1)B)a^{i\\timesB}\\bmodp,i\\in[1,\\frac{(p-1)}B)aiÃ—Bmodp,iâˆˆ[1,B(pâˆ’1)â€‹)ï¼Œè¯¢é—®æ—¶axmodp=aâŒŠxBâŒ‹Ã—axmodBmodpa^x\\bmodp=a^{\\lfloor\\fracxB\\rfloor}\\timesa^{x\\bmodB}\\bmodpaxmodp=aâŒŠBxâ€‹âŒ‹Ã—axmodBmodpï¼Œå–B=pB=\\sqrtpB=pâ€‹æ—¶å¯ä»¥åšåˆ°O(p)âˆ’O(1)O(\\sqrtp)-O(1)O(pâ€‹)âˆ’O(1)å¿«é€Ÿå¹‚ã€‚ç„¶è€ŒO(p)O(\\sqrtp)O(pâ€‹)å¯èƒ½è¿˜æ˜¯å¤ªæ…¢äº†ï¼Œå®é™…ä¸Šå¯ä»¥åšåˆ°å–ä¸€ä¸ªBBBï¼Œå¤æ‚åº¦ä¸ºO(logâ¡BpÃ—B)âˆ’O(logâ¡Bp)O(\\log_Bp\\timesB)-O(\\log_Bp)O(logBâ€‹pÃ—B)âˆ’O(logBâ€‹p)ï¼Œåé¢çš„logâ¡Bp\\log_BplogBâ€‹påŸºæœ¬å°±åªæ˜¯å¸¸æ•°äº†ï¼Œå¯ä»¥æŒ‰éœ€æ±‚å¹³è¡¡å¤æ‚åº¦ï¼Œå…¶å®ä¸å¤ªå¥½ç†è§£ï¼Œä¸‹é¢æ”¾ä¸€ä»½B=32B=32B=32çš„ä»£ç ï¼Œè¿™åº”è¯¥æ˜¯æ¯”è¾ƒä¼˜çš„å—é•¿äº†ï¼Œå¸¸æ•°è¾ƒå°ã€‚inlinevoidinit(intx){Pow[0][0]=Pow[1][0]=Pow[2][0]=Pow[3][0]=Pow[4][0]=Pow[5][0]=1;for(inti=1;i&lt;S;i++)Pow[0][i]=Pow[0][i-1]*x%mod;intb=immul(Pow[0][S-1],x);for(inti=1;i&lt;S;i++)Pow[1][i]=Pow[1][i-1]*b%mod;b=immul(Pow[1][S-1],b);for(inti=1;i&lt;S;i++)Pow[2][i]=Pow[2][i-1]*b%mod;b=immul(Pow[2][S-1],b);for(inti=1;i&lt;S;i++)Pow[3][i]=Pow[3][i-1]*b%mod;b=immul(Pow[3][S-1],b);for(inti=1;i&lt;S;i++)Pow[4][i]=Pow[4][i-1]*b%mod;b=immul(Pow[4][S-1],b);for(inti=1;i&lt;S;i++)Pow[5][i]=Pow[5][i-1]*b%mod;}inlineintqpow(inty){returnPow[5][(y&gt;&gt;25)]*Pow[4][(y&gt;&gt;20)&amp;(S-1)]%mod*Pow[3][(y&gt;&gt;15)&amp;(S-1)]%mod*Pow[2][(y&gt;&gt;10)&amp;(S-1)]%mod*Pow[1][(y&gt;&gt;5)&amp;(S-1)]%mod*Pow[0][y&amp;(S-1)]%mod;}}POW;å®æµ‹å°½é‡æ·»åŠ #pragmaunroll(4)å®ç°å¹¶è¡Œï¼ŒPowå¯ä»¥å¼€longlongé¿å…å¤šæ¬¡intå¼ºè½¬ã€‚å®Œæ•´ä»£ç ","link":"https://yaohaoyou.github.io/AbsMatt.github.io/post/FastPow/"},{"title":"æ•°å­¦å­¦ä¹ ç¬”è®°","content":"ç‹„åˆ©å…‹é›·å·ç§¯Dirichletå®šä¹‰å…¶æœ¬è´¨æ˜¯ä¸€ç§è¿ç®—ï¼Œå¯ä»¥ç”¨âˆ—*âˆ—è¡¨ç¤ºã€‚h(x)=f(x)âˆ—g(x)=âˆ‘dâˆ£xf(d)g(xd)=âˆ‘ab=xf(a)g(b)h(x)=f(x)*g(x)=\\sum_{d|x}f(d)g(\\frac{x}{d})=\\sum_{ab=x}f(a)g(b)h(x)=f(x)âˆ—g(x)=dâˆ£xâˆ‘â€‹f(d)g(dxâ€‹)=ab=xâˆ‘â€‹f(a)g(b)ç§¯æ€§å‡½æ•°f(x)f(x)f(x)æ»¡è¶³âˆ€(a,b)=1,f(ab)=f(a)f(b)\\forall(a,b)=1,f(ab)=f(a)f(b)âˆ€(a,b)=1,f(ab)=f(a)f(b)ã€‚å®Œå…¨ç§¯æ€§å‡½æ•°f(x)f(x)f(x)æ»¡è¶³f(ab)=f(a)f(b)f(ab)=f(a)f(b)f(ab)=f(a)f(b)ã€‚å¯ä»¥ä½¿ç”¨çº¿æ€§ç­›ç®—å‡ºç§¯æ€§å‡½æ•°ã€‚æ€§è´¨äº¤æ¢å¾‹ï¼šfâˆ—g=gâˆ—ff*g=g*ffâˆ—g=gâˆ—fã€‚ç»“åˆå¾‹ï¼š(fâˆ—g)âˆ—h=fâˆ—(gâˆ—h)(f*g)*h=f*(g*h)(fâˆ—g)âˆ—h=fâˆ—(gâˆ—h)ã€‚åˆ†é…å¾‹ï¼š(f+g)âˆ—h=fâˆ—h+gâˆ—h(f+g)*h=f*h+g*h(f+g)âˆ—h=fâˆ—h+gâˆ—hã€‚è‹¥fffå’Œgggæ˜¯ç§¯æ€§å‡½æ•°ï¼Œåˆ™fâˆ—gf*gfâˆ—gä¹Ÿæ˜¯ç§¯æ€§å‡½æ•°ã€‚è‹¥fffæ˜¯ç§¯æ€§å‡½æ•°ï¼Œåˆ™fffçš„é€†å…ƒä¹Ÿæ˜¯ç§¯æ€§å‡½æ•°ã€‚é€†å…ƒå•ä½å‡½æ•°Îµ\\varepsilonÎµï¼Œfâˆ—Îµ=ff*\\varepsilon=ffâˆ—Îµ=fã€‚è‹¥gggæ»¡è¶³fâˆ—g=Îµf*g=\\varepsilonfâˆ—g=Îµï¼Œåˆ™ç§°g(x)g(x)g(x)æ˜¯f(x)f(x)f(x)çš„é€†å…ƒã€‚é€†å…ƒå”¯ä¸€ã€‚psï¼šç›®å‰è¿˜ä¸å¤ªæ‡‚è¿™æ˜¯ä»€ä¹ˆï¼Œä½†å¥½åƒå¯ä»¥ç†è§£ä¸ºÎµ(n)={1n=10nî€ =1\\varepsilon(n)=\\begin{cases}1&amp;n=1\\\\0&amp;n\\not=1\\end{cases}Îµ(n)={10â€‹n=1nî€ â€‹=1â€‹ã€‚g(x)=Îµ(x)âˆ’âˆ‘dâˆ£x,dî€ =1f(d)f(xd)1g(x)=\\dfrac{\\varepsilon(x)-\\sum_{d|x,d\\not=1}f(d)f(\\dfrac{x}{d})}{1}g(x)=1Îµ(x)âˆ’âˆ‘dâˆ£x,dî€ â€‹=1â€‹f(d)f(dxâ€‹)â€‹è«æ¯”ä¹Œæ–¯å‡½æ•°MÃ¶biuså®šä¹‰å¼n=p1a1p2a2...pkakÎ¼(n)={1n=10âˆƒiâ‰¤k,ai&gt;1(âˆ’1)kelsen=p_1^{a_1}p_2^{a_2}...p_k^{a_k}\\\\\\mu(n)=\\begin{cases}1&amp;n=1\\\\0&amp;\\existi\\lek,a_i&gt;1\\\\(-1)^k&amp;else\\end{cases}n=p1a1â€‹â€‹p2a2â€‹â€‹...pkakâ€‹â€‹Î¼(n)=â©âªâ¨âªâ§â€‹10(âˆ’1)kâ€‹n=1âˆƒiâ‰¤k,aiâ€‹&gt;1elseâ€‹æ€§è´¨Î¼(x)\\mu(x)Î¼(x)æ˜¯ç§¯æ€§å‡½æ•°ã€‚âˆ‘dâˆ£nÎ¼(d)={1n=10nî€ =1\\sum_{d|n}\\mu(d)=\\begin{cases}1&amp;n=1\\\\0&amp;n\\not=1\\end{cases}dâˆ£nâˆ‘â€‹Î¼(d)={10â€‹n=1nî€ â€‹=1â€‹å³âˆ‘dâˆ£nÎ¼(d)=Îµ(n),Î¼âˆ—1=Îµ\\sum_{d|n}\\mu(d)=\\varepsilon(n),\\mu*1=\\varepsilonâˆ‘dâˆ£nâ€‹Î¼(d)=Îµ(n),Î¼âˆ—1=Îµã€‚åœ¨ç‹„åˆ©å…‹é›·å·ç§¯ä¸­ï¼Œè«æ¯”ä¹Œæ–¯å‡½æ•°æ˜¯å¸¸æ•°å‡½æ•°111çš„é€†å…ƒã€‚è¯æ˜n=p1a1p2a2...pkak,nâ€²=p1p2...pkâˆµÎ¼(kÃ—a2)=0âˆ´âˆ‘dâˆ£nÎ¼(d)=âˆ‘dâˆ£nâ€²Î¼(d)n=p_1^{a_1}p_2^{a_2}...p_k^{a_k},n&#x27;=p_1p_2...p_k\\\\\\because\\mu(k\\timesa^2)=0\\\\\\therefore\\sum_{d|n}\\mu(d)=\\sum_{d|n&#x27;}\\mu(d)n=p1a1â€‹â€‹p2a2â€‹â€‹...pkakâ€‹â€‹,nâ€²=p1â€‹p2â€‹...pkâ€‹âˆµÎ¼(kÃ—a2)=0âˆ´dâˆ£nâˆ‘â€‹Î¼(d)=dâˆ£nâ€²âˆ‘â€‹Î¼(d)åˆ™ç°åœ¨å°±æ˜¯å°è¯•åœ¨kkkä¸ªäº’å¼‚è´¨æ•°ä¸­é€‰æ‹©ä¸€ä¸ªé›†åˆï¼Œè‹¥é›†åˆå¤§å°ä¸ºå¥‡æ•°ï¼Œç­”æ¡ˆ-1ï¼Œå¦åˆ™ç­”æ¡ˆ+1ã€‚k&gt;1k&gt;1k&gt;1æ—¶ï¼Œâˆ‘dâˆ£nâ€²Î¼(d)=âˆ‘i=0k(ki)Ã—(âˆ’1)i\\sum_{d|n&#x27;}\\mu(d)=\\sum_{i=0}^k\\binom{k}{i}\\times(-1)^iâˆ‘dâˆ£nâ€²â€‹Î¼(d)=âˆ‘i=0kâ€‹(ikâ€‹)Ã—(âˆ’1)iã€‚äºŒé¡¹å¼å®šç†æ˜¯(a+b)n=âˆ‘i=0n(ni)aibnâˆ’i(a+b)^n=\\sum_{i=0}^n\\binom{n}{i}a^ib^{n-i}(a+b)n=âˆ‘i=0nâ€‹(inâ€‹)aibnâˆ’iï¼Œå°†a=âˆ’1,b=1a=-1,b=1a=âˆ’1,b=1å¸¦å…¥åˆ™æ˜¯(1+(âˆ’1))n=âˆ‘i=0n(ni)Ã—(âˆ’1)i=0(1+(-1))^n=\\sum_{i=0}^n\\binom{n}{i}\\times(-1)^i=0(1+(âˆ’1))n=âˆ‘i=0nâ€‹(inâ€‹)Ã—(âˆ’1)i=0ã€‚æ•…k&gt;1k&gt;1k&gt;1æ—¶ï¼Œâˆ‘dâˆ£nÎ¼(d)=0\\sum_{d|n}\\mu(d)=0âˆ‘dâˆ£nâ€‹Î¼(d)=0ã€‚å‰©ä¸‹æƒ…å†µä¸éš¾è‡ªè¯ã€‚psï¼šä»¥ä¸Šè¯æ˜åªæ˜¯æœ¬äººåœ¨åˆå­¦æ—¶çš„ç»“è®ºï¼Œä¸ä¿è¯æ­£ç¡®ï¼Œç­‰å¾…æœªæ¥çš„æˆ‘ä¿®æ”¹æˆ–ç¡®è®¤ã€‚åæ¼”ç»“è®º[gcdâ¡(i,j)=1]=âˆ‘dâˆ£gcdâ¡(i,j)Î¼(d)[\\gcd(i,j)=1]=\\sum_{d|\\gcd(i,j)}\\mu(d)[gcd(i,j)=1]=dâˆ£gcd(i,j)âˆ‘â€‹Î¼(d)ä¾‹é¢˜ã€ŒHAOI2011ã€Problembæ±‚âˆ‘i=xnâˆ‘j=ym[gcdâ¡(i,j)=k],(1â‰¤T,x,y,n,m,kâ‰¤105)\\displaystyle{\\sum_{i=x}^n\\sum_{j=y}^m[\\gcd(i,j)=k]},(1\\leT,x,y,n,m,k\\le10^5)i=xâˆ‘nâ€‹j=yâˆ‘mâ€‹[gcd(i,j)=k],(1â‰¤T,x,y,n,m,kâ‰¤105)ã€‚(1)f(a,b,k)=âˆ‘i=1aâˆ‘j=1b[gcdâ¡(i,j)=k]f(a,b,k)=\\sum_{i=1}^a\\sum_{j=1}^b[\\gcd(i,j)=k]\\tag{1}f(a,b,k)=i=1âˆ‘aâ€‹j=1âˆ‘bâ€‹[gcd(i,j)=k](1)(2)âˆ‘i=xnâˆ‘j=ym[gcdâ¡(i,j)=k]=f(n,m,k)âˆ’f(xâˆ’1,m,k)âˆ’f(n,yâˆ’1,k)+f(xâˆ’1,yâˆ’1,k)\\sum_{i=x}^n\\sum_{j=y}^m[\\gcd(i,j)=k]=f(n,m,k)-f(x-1,m,k)-f(n,y-1,k)+f(x-1,y-1,k)\\tag{2}i=xâˆ‘nâ€‹j=yâˆ‘mâ€‹[gcd(i,j)=k]=f(n,m,k)âˆ’f(xâˆ’1,m,k)âˆ’f(n,yâˆ’1,k)+f(xâˆ’1,yâˆ’1,k)(2)(3)f(a,b,k)=âˆ‘i=1âŒŠakâŒ‹âˆ‘j=1âŒŠbkâŒ‹[gcdâ¡(i,j)=1]f(a,b,k)=\\sum_{i=1}^{\\left\\lfloor\\frac{a}{k}\\right\\rfloor}\\sum_{j=1}^{\\left\\lfloor\\frac{b}{k}\\right\\rfloor}[\\gcd(i,j)=1]\\tag{3}f(a,b,k)=i=1âˆ‘âŒŠkaâ€‹âŒ‹â€‹j=1âˆ‘âŒŠkbâ€‹âŒ‹â€‹[gcd(i,j)=1](3)(4)=âˆ‘i=1âŒŠakâŒ‹âˆ‘j=1âŒŠbkâŒ‹âˆ‘dâˆ£gcdâ¡(i,j)Î¼(d)=\\sum_{i=1}^{\\left\\lfloor\\frac{a}{k}\\right\\rfloor}\\sum_{j=1}^{\\left\\lfloor\\frac{b}{k}\\right\\rfloor}\\sum_{d|\\gcd(i,j)}\\mu(d)\\tag{4}=i=1âˆ‘âŒŠkaâ€‹âŒ‹â€‹j=1âˆ‘âŒŠkbâ€‹âŒ‹â€‹dâˆ£gcd(i,j)âˆ‘â€‹Î¼(d)(4)(5)=âˆ‘dÎ¼(d)âˆ‘i=1âŒŠakâŒ‹[dâˆ£i]âˆ‘j=1âŒŠbkâŒ‹[dâˆ£j]=\\sum_{d}\\mu(d)\\sum_{i=1}^{\\left\\lfloor\\frac{a}{k}\\right\\rfloor}[d|i]\\sum_{j=1}^{\\left\\lfloor\\frac{b}{k}\\right\\rfloor}[d|j]\\tag{5}=dâˆ‘â€‹Î¼(d)i=1âˆ‘âŒŠkaâ€‹âŒ‹â€‹[dâˆ£i]j=1âˆ‘âŒŠkbâ€‹âŒ‹â€‹[dâˆ£j](5)(6)=âˆ‘d=1minâ¡(âŒŠakâŒ‹,âŒŠbkâŒ‹)Î¼(d)âŒŠâŒŠakâŒ‹dâŒ‹âŒŠâŒŠbkâŒ‹dâŒ‹=\\sum_{d=1}^{\\min(\\left\\lfloor\\frac{a}{k}\\right\\rfloor,\\left\\lfloor\\frac{b}{k}\\right\\rfloor)}\\mu(d)\\left\\lfloor\\frac{\\left\\lfloor\\frac{a}{k}\\right\\rfloor}d\\right\\rfloor\\left\\lfloor\\frac{\\left\\lfloor\\frac{b}{k}\\right\\rfloor}d\\right\\rfloor\\tag{6}=d=1âˆ‘min(âŒŠkaâ€‹âŒ‹,âŒŠkbâ€‹âŒ‹)â€‹Î¼(d)âŒŠdâŒŠkaâ€‹âŒ‹â€‹âŒ‹âŒŠdâŒŠkbâ€‹âŒ‹â€‹âŒ‹(6)(1)(1)(1)åˆ°(2)(2)(2)çš„è¿‡ç¨‹æ˜¯äºŒç»´å·®åˆ†ï¼Œ(3)(3)(3)åˆ°(4)(4)(4)çš„è¿‡ç¨‹å°±æ˜¯åæ¼”ç»“è®ºçš„ä½¿ç”¨ï¼Œ(5)(5)(5)åˆ°(6)(6)(6)æ˜¯å› ä¸ºâˆ‘i=1âŒŠakâŒ‹[dâˆ£i]\\displaystyle\\sum_{i=1}^{\\left\\lfloor\\frac{a}{k}\\right\\rfloor}[d|i]i=1âˆ‘âŒŠkaâ€‹âŒ‹â€‹[dâˆ£i]å°±æ˜¯[1,âŒŠakâŒ‹][1,\\left\\lfloor\\frac{a}{k}\\right\\rfloor][1,âŒŠkaâ€‹âŒ‹]ä¸­æ˜¯dddçš„å€æ•°çš„ä¸ªæ•°ï¼Œå¦ä¸€ä¸ªåŒç†ã€‚ä½¿ç”¨O(V)O(V)O(V)çº¿æ€§ç­›é¢„å¤„ç†å‡ºÎ¼(i)\\mu(i)Î¼(i)å’Œâˆ‘i=1nÎ¼(i)\\sum_{i=1}^n\\mu(i)âˆ‘i=1nâ€‹Î¼(i)ï¼Œä½¿ç”¨æ•´é™¤åˆ†å—åœ¨O(V)O(\\sqrtV)O(Vâ€‹)ç®—å‡º(6)(6)(6)ã€‚æ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(V+âˆ‘V)O(V+\\sum\\sqrtV)O(V+âˆ‘Vâ€‹)ã€‚é˜¶å®šä¹‰ç”±æ¬§æ‹‰å®šç†å¯çŸ¥ï¼Œ(a,m)=1(a,m)=1(a,m)=1ï¼ŒaÏ†(m)â‰¡1(modm)a^{\\varphi(m)}\\equiv1(\\bmodm)aÏ†(m)â‰¡1(modm)ã€‚æ•…å­˜åœ¨æœ€å°æ­£æ•´æ•°æ»¡è¶³anâ‰¡1(modm)a^n\\equiv1(\\bmodm)anâ‰¡1(modm)ï¼Œç§°nnnä¸ºaaaæ¨¡mmmçš„é˜¶ï¼Œè®°ä½œordâ¡m(a)\\operatorname{ord}_m(a)ordmâ€‹(a)ã€‚æ€§è´¨a,a2...aordâ¡m(a)a,a^2...a^{\\operatorname{ord}_m(a)}a,a2...aordmâ€‹(a)æ¨¡mmmä¸¤ä¸¤ä¸åŒä½™ã€‚è‹¥apâ‰¡aq(modm)a^p\\equiva^q(\\bmodm)apâ‰¡aq(modm)ï¼Œåˆ™pâ‰¡q(modordâ¡m(a))p\\equivq(\\bmod\\operatorname{ord}_m(a))pâ‰¡q(modordmâ€‹(a))ã€‚(a,m)=(b,m)=1ordâ¡m(ab)=ordâ¡m(a)ordâ¡m(b)â‡”gcd(ordâ¡m(a),ordâ¡m(b))=1(a,m)=(b,m)=1\\\\\\operatorname{ord}_m(ab)=\\operatorname{ord}_m(a)\\operatorname{ord}_m(b)\\Leftrightarrowgcd(\\operatorname{ord}_m(a),\\operatorname{ord}_m(b))=1(a,m)=(b,m)=1ordmâ€‹(ab)=ordmâ€‹(a)ordmâ€‹(b)â‡”gcd(ordmâ€‹(a),ordmâ€‹(b))=1åŸæ ¹primitive-rootå®šä¹‰è‹¥(g,m)=1(g,m)=1(g,m)=1ï¼Œä¸”ordâ¡m(g)=Ï†(m)\\operatorname{ord}_m(g)=\\varphi(m)ordmâ€‹(g)=Ï†(m)ï¼Œåˆ™ç§°gggä¸ºæ¨¡mmmçš„åŸæ ¹ã€‚æ€§è´¨å¯¹äºmâ‰¥3,(g,m)=1m\\ge3,(g,m)=1mâ‰¥3,(g,m)=1ï¼Œåˆ™gggæ˜¯æ¨¡mmmçš„åŸæ ¹â‡”\\Leftrightarrowâ‡”å¯¹äºÏ†(m)\\varphi(m)Ï†(m)çš„æ¯ä¸ªè´¨å› å­pppï¼Œéƒ½æœ‰gÏ†(m)pî€ â‰¡1(modm)g^{\\frac{\\varphi(m)}{p}}\\not\\equiv1(\\bmodm)gpÏ†(m)â€‹î€ â€‹â‰¡1(modm)ã€‚è‹¥mmmæœ‰åŸæ ¹ï¼Œåˆ™åŸæ ¹ä¸ªæ•°ä¸ºÏ†(Ï†(m))\\varphi(\\varphi(m))Ï†(Ï†(m))ã€‚åŸæ ¹å­˜åœ¨å®šç†ï¼šä¸€ä¸ªæ•°mmmå­˜åœ¨åŸæ ¹å½“ä¸”ä»…å½“m=2,4,pa,2pam=2,4,p^a,2p^am=2,4,pa,2paï¼Œpppä¸ºå¥‡è´¨æ•°ã€‚aaaçš„æœ€å°åŸæ ¹å¤§çº¦åœ¨a4\\sqrt[4]a4aâ€‹ï¼Œlonglongå†…çš„éƒ½å¯ä»¥æš´åŠ›æšä¸¾ã€‚è®¾gggä¸ºnnnçš„æœ€å°åŸæ ¹ï¼Œåˆ™nnnçš„åŸæ ¹é›†åˆS={gsâˆ£(s,Ï†(n))=1}S=\\{g^s|(s,\\varphi(n))=1\\}S={gsâˆ£(s,Ï†(n))=1}ã€‚éƒ¨åˆ†è¯æ˜ç”±ç¬¬1æ¡å¾—ï¼Œâˆ€pisprimeandpâˆ£Ï†(n),gÏ†(n)pî€ =1(modn)\\forall\\text{pisprimeand}p|\\varphi(n),g^{\\frac{\\varphi(n)}{p}}\\not=1(\\bmodn)âˆ€pisprimeandpâˆ£Ï†(n),gpÏ†(n)â€‹î€ â€‹=1(modn)ã€‚gsÏ†(n)p=(gÏ†(n))spg^{s^{\\frac{\\varphi(n)}{p}}}=(g^{\\varphi(n)})^\\frac{s}{p}gspÏ†(n)â€‹=(gÏ†(n))psâ€‹ï¼Œè‹¥gcdâ¡(s,Ï†(n))&gt;1\\gcd(s,\\varphi(n))&gt;1gcd(s,Ï†(n))&gt;1ï¼Œåˆ™æœ‰ä¸€ä¸ªpppä½¿sp\\frac{s}{p}psâ€‹ä¸ºæ­£æ•´æ•°ï¼Œç”±æ¬§æ‹‰å®šç†å¾—gÏ†(n)â‰¡1(modn)g^{\\varphi(n)}\\equiv1(\\bmodn)gÏ†(n)â‰¡1(modn)ï¼ŒçŸ›ç›¾ï¼Œæ•…(s,Ï†(n))=1(s,\\varphi(n))=1(s,Ï†(n))=1ï¼Œè¯æ˜å…¶å¿…è¦æ€§ã€‚Burnside&amp;PÃ³lyaå®šç†(1)[X/G]=1âˆ£Gâˆ£âˆ‘gâˆˆGâˆ£Xgâˆ£[X/G]=\\dfrac{1}{|G|}\\sum_{g\\inG}|X^g|\\tag{1}[X/G]=âˆ£Gâˆ£1â€‹gâˆˆGâˆ‘â€‹âˆ£Xgâˆ£(1)å³æœ¬è´¨ä¸åŒçš„ç­‰ä»·ç±»ä¸ªæ•°æ˜¯ä¸åŠ¨ç‚¹ä¸ªæ•°çš„å¹³å‡å€¼ã€‚âˆ£Xgâˆ£|X^g|âˆ£Xgâˆ£è¡¨ç¤ºXXXåœ¨ç½®æ¢gggä¸‹çš„ä¸åŠ¨ç‚¹ä¸ªæ•°ã€‚(2)[X/G]=1âˆ£Gâˆ£âˆ‘gâˆˆGmc(g)[X/G]=\\dfrac1{|G|}\\sum_{g\\inG}m^{c(g)}\\tag{2}[X/G]=âˆ£Gâˆ£1â€‹gâˆˆGâˆ‘â€‹mc(g)(2)c(g)c(g)c(g)è¡¨ç¤ºç½®æ¢gggå½¢æˆäº†å¤šå°‘ä¸ªç¯ã€‚å› ä¸ºä¸€ä¸ªç‚¹åœ¨ç½®æ¢gggä¸Šæˆä¸ºä¸å®šç‚¹å½“ä¸”ä»…å½“è¿™ä¸ªç‚¹æ‰€åœ¨çš„ç¯æ˜¯åŒä¸€ç§é¢œè‰²ï¼Œæ‰€ä»¥å¯¹æ¯ä¸ªç¯å•ç‹¬æŸ“è‰²å³å¯ã€‚psï¼š(1)(1)(1)ä¸­çš„GGGæ˜¯å®šä¹‰åœ¨æŸ“è‰²æ–¹æ¡ˆä¸Šçš„ï¼Œå³æœ‰nmn^mnmç§æŸ“è‰²æ–¹æ¡ˆï¼Œ(2)(2)(2)ä¸­çš„GGGæ˜¯å®šä¹‰åœ¨nnnä¸ªç‚¹çš„è½®æ¢ä¸Šï¼Œå³æœ‰nnnç§æ—‹è½¬æ–¹å¼ã€‚","link":"https://yaohaoyou.github.io/AbsMatt.github.io/post/math/"},{"title":"P4897 ã€æ¨¡æ¿ã€‘æœ€å°å‰²æ ‘ï¼ˆGomory-Hu Treeï¼‰ é¢˜è§£","content":"é¢˜ç›®ä¼ é€å™¨æ›´çˆ½çš„é˜…è¯»ä½“éªŒé¢˜æ„ç»™ä¸€ä¸ªæ— å‘è¿é€šå›¾ï¼Œè¯¢é—®ä¸¤ç‚¹ä¹‹é—´éœ€è¦å‰²æ‰å¤šå°‘è¾¹æƒèƒ½ä½¿ä¸¤ç‚¹ä¸è¿é€šã€‚åšæ³•å› ä¸ºè¿é€šæ€§æ˜¯å¯ä¼ é€’çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨åˆ†æ²»ã€‚ç”±äºæ— å‘å›¾ä¸¤ç‚¹é—´æœ€å°å‰²===æœ€å¤§æµï¼Œæ‰€ä»¥ä½¿ç”¨ç½‘ç»œæœ€å¤§æµæ±‚æœ€å°å‰²ã€‚å¯¹äºå½“å‰å¤„ç†éœ€è¦å¤„ç†çš„ç‚¹é›†sssï¼Œéšæ„é€‰ä¸¤ä¸ªç‚¹uuuå’Œvvvè·‘ä¸€æ¬¡ç½‘ç»œæœ€å¤§æµï¼Œè®¾æœ€å¤§æµä¸ºmaxflowmaxflowmaxflowï¼Œåˆ™åœ¨æœ€å°å‰²æ ‘ä¸Šå»ºä¸€æ¡(u,v,maxflow)(u,v,maxflow)(u,v,maxflow)è¾¹ã€‚è®¾å‰²æ‰æ»¡æµçš„è¾¹åuuuèƒ½éå†åˆ°çš„ç‚¹é›†ä¸ºs1s1s1ï¼Œå‰©ä¸‹çš„ç‚¹é›†s2=âˆss1s2=\\complement_ss1s2=âˆsâ€‹s1ã€‚å¾€ä¸‹é€’å½’å¤„ç†s1s1s1å’Œs2s2s2å³å¯ã€‚æ±‚s1s1s1å¯ä»¥æ‰¾æœ€åä¸€æ¬¡dinicçš„bfséå†åˆ°çš„ç‚¹ã€‚ç°åœ¨å·²ç»å»ºå‡ºäº†æœ€å°å‰²æ ‘ï¼Œè€ƒè™‘å¦‚ä½•ä½¿ç”¨ã€‚å½“æ–­æ‰ä¸€æ¡è¾¹åï¼Œä¼šèŠ±è´¹å½“å‰è¾¹æƒçš„ä»£ä»·ï¼Œå°†åŸæ ‘æ ‘æ–­æˆä¸¤é¢—æ–°æ ‘ï¼Œè¿™ä¸¤æ£µæ–°æ ‘ä¸Šçš„ç‚¹ä¸¤ä¸¤äº’ç›¸ä¸è¿é€šã€‚é‚£å¯¹äºæ±‚(u,v)(u,v)(u,v)çš„æœ€å°å‰²ï¼Œåªè¦æ–­æ‰æ ‘ä¸Š(u,lca(u,v))(u,lca(u,v))(u,lca(u,v))å’Œ(lca(u,v),v)(lca(u,v),v)(lca(u,v),v)è¿™ä¸¤æ¡é“¾ä¸­æœ€å°çš„ä¸€æ¡è¾¹å³å¯ã€‚å¯ä»¥ä½¿ç”¨å€å¢ç»´æŠ¤è¾¹æƒæœ€å°å€¼ã€‚ACCode#include&lt;bits/stdc++.h&gt;#definepiipair&lt;int,int&gt;#definepiiipair&lt;int,pii&gt;#defineebemplace_backusingnamespacestd;constintmaxn=1e5+10;constintmaxm=maxn*100;intn,m;structTree{intcnt=1;inthead[maxn];structedge{intnxt,to,w;}e[maxm];inlinevoidadd(intu,intv,intw){e[++cnt]={head[u],v,w};head[u]=cnt;}}Tr;namespaceGraph{piiig[maxn];intcnt=1;inthead[maxn];structedge{intnxt,to,w;}e[maxm];inlinevoidadd(intu,intv,intw){e[++cnt]={head[u],v,w};head[u]=cnt;}inlinevoidrebuild(){cnt=1;memset(head,0,sizeof(head));for(inti=1;i&lt;=m;i++){add(g[i].first,g[i].second.first,g[i].second.second);add(g[i].second.first,g[i].first,g[i].second.second);}}}usingnamespaceGraph;intS,T;namespaceDINIC{constintinf=0x3f3f3f3f;intd[maxn],now[maxn];queue&lt;int&gt;q;inlineboolbfs(){while(!q.empty())q.pop();memset(d,0x3f,sizeof(d));memcpy(now,head,sizeof(head));d[S]=0;q.push(S);while(!q.empty()){intu=q.front();q.pop();for(inti=head[u];i;i=e[i].nxt){intt=e[i].to;if(d[t]!=inf||!e[i].w)continue;d[t]=d[u]+1;q.push(t);if(t==T)returntrue;}}returnfalse;}intdfs(intu,intflw){if(u==T)returnflw;intres=0;for(inti=now[u];i&amp;&amp;flw;i=e[i].nxt){now[u]=i;intt=e[i].to;if(d[t]!=d[u]+1||!e[i].w)continue;intk=dfs(t,min(e[i].w,flw));if(!k)d[t]=inf;e[i].w-=k;e[i^1].w+=k;res+=k;flw-=k;}returnres;}inlineintdinic(){rebuild();intres=0;while(bfs())res+=dfs(S,inf);returnres;}}usingnamespaceDINIC;namespaceDFS{intw[20][maxn],f[20][maxn],dep[maxn];voiddfs(intu,intfa){dep[u]=dep[f[0][u]=fa]+1;w[0][u]=inf;for(inti=Tr.head[u];i;i=Tr.e[i].nxt){intt=Tr.e[i].to;if(t==fa)continue;dfs(t,u);w[0][t]=Tr.e[i].w;}}inlinevoidinit_LCA(){for(inti=1;i&lt;=19;i++)for(intj=1;j&lt;=n;j++){w[i][j]=min(w[i-1][j],w[i-1][f[i-1][j]]);f[i][j]=f[i-1][f[i-1][j]];}}inlineintLCA(intx,inty){//O(nlogn)-O(logn)å€å¢intres=inf;if(dep[x]&lt;dep[y])swap(x,y);for(inti=19;~i;i--){if(dep[f[i][x]]&gt;=dep[y]){res=min(res,w[i][x]);x=f[i][x];}}if(x==y)returnres;for(inti=19;~i;i--){if(f[i][x]^f[i][y]){res=min(res,w[i][x]);res=min(res,w[i][y]);x=f[i][x];y=f[i][y];}}res=min(res,w[0][x]);res=min(res,w[0][y]);returnres;}}vector&lt;int&gt;v,v1,v2;voiddivide(intl,intr){v1.clear();v2.clear();if(l&gt;=r)return;S=v[l];T=v[l+1];intres=dinic();Tr.add(S,T,res);Tr.add(T,S,res);for(inti=l;i&lt;=r;i++){if(d[v[i]]!=inf)v1.eb(v[i]);elsev2.eb(v[i]);}for(inti=0;i&lt;v1.size();i++)v[i+l]=v1[i];for(inti=0;i&lt;v2.size();i++)v[i+l+v1.size()]=v2[i];intsiz=v1.size();divide(l,l+siz-1);divide(l+siz,r);}intmain(){scanf(&quot;%d%d&quot;,&amp;n,&amp;m);for(inti=1,u,v;i&lt;=m;i++){scanf(&quot;%d%d%d&quot;,&amp;g[i].first,&amp;g[i].second.first,&amp;g[i].second.second);}for(inti=0;i&lt;=n;i++)v.eb(i);divide(0,n);DFS::dfs(1,0);DFS::init_LCA();intq;scanf(&quot;%d&quot;,&amp;q);while(q--){intu,v;scanf(&quot;%d%d&quot;,&amp;u,&amp;v);printf(&quot;%d\\n&quot;,DFS::LCA(u,v));}}æ€»ç»“æ—¶é—´å¤æ‚åº¦ä¸ºO(nÃ—D)O(n\\timesD)O(nÃ—D)ã€‚O(D)O(D)O(D)æ˜¯dinicçš„æ—¶é—´å¤æ‚åº¦ï¼Œç†è®ºæ˜¯O(n2Ã—m)O(n^2\\timesm)O(n2Ã—m)ï¼Œä½†å®é™…ä¸Šå°å¾ˆå¤šã€‚","link":"https://yaohaoyou.github.io/AbsMatt.github.io/post/p4897-solution/"},{"title":"P10271 æ¼«é•¿æ‚„æ‚„è¯é¢˜è§£","content":"é¢˜ç›®ä¼ é€å™¨æ›´çˆ½çš„é˜…è¯»ä½“éªŒå‰è¨€ä¸ºä»€ä¹ˆéƒ½ç”¨PAMå’Œå­åºåˆ—è‡ªåŠ¨æœºï¼Œæˆ‘ä¼šäºŒåˆ†ç­”æ¡ˆ+manacher+Hashã€‚é¢˜æ„è‡ªè¡Œçœ‹é¢˜ã€‚åšæ³•æ¨ä¸€ä¸‹å¼å­å³å¯ï¼Œpreipre_ipreiâ€‹è¡¨ç¤ºiiiçš„å‰ç¼€ã€‚Rev(lcs(i,j))=LCP(Rev(prei),Rev(prej))Rev(lcs(i,j))=LCP(Rev(pre_i),Rev(pre_j))Rev(lcs(i,j))=LCP(Rev(preiâ€‹),Rev(prejâ€‹))æ‰‹æ¨¡ä¸€ä¸‹æ ·ä¾‹å°±èƒ½å‘ç°å…¶å®å°±æ˜¯æ±‚ä»¥iiiä¸ºä¸­å¿ƒçš„å›æ–‡åŠå¾„å’Œä»¥jjjä¸ºä¸­å¿ƒçš„å›æ–‡åŠå¾„çš„LCP\\text{LCP}LCPã€‚æ˜¾ç„¶ç­”æ¡ˆæ˜¯æœ‰äºŒåˆ†æ€§çš„ï¼Œå¯ä»¥äºŒåˆ†ç­”æ¡ˆxxxåå°†æ¯ä¸ªä½ç½®iiiå¯¹åº”çš„[iâˆ’x+1,i][i-x+1,i][iâˆ’x+1,i]çš„å“ˆå¸Œå€¼æ”¾å…¥mapæˆ–unordered_mapä¸­ï¼Œåªè¦æœ‰ç›¸åŒçš„å°±è¿”å›trueã€‚manacheråªéœ€è¦è·‘ä»¥å½“å‰ç‚¹ä¸ºä¸­å¿ƒçš„å›æ–‡ä¸²å³å¯ï¼Œä¸ç”¨åœ¨ç›¸é‚»ä¸¤ä½åŠ å…¥å­—ç¬¦ã€‚ACCode#include&lt;bits/stdc++.h&gt;#defineullunsignedlonglongusingnamespacestd;constintmaxn=1e6+10,base=31;intn,p[maxn];ullhsh[maxn],bs[maxn];strings;unordered_map&lt;ull,bool&gt;mp;//è®°å½•æ˜¯å¦å‡ºç°è¿‡çš„å“ˆå¸Œå€¼inlineullHash(intl,intr){returnhsh[r]-hsh[l-1]*bs[r-l+1];}inlineboolcheck(intx){mp.clear();for(inti=1;i&lt;=n;i++){if(p[i]&lt;x)continue;if(mp[Hash(i-x+1,i)])returntrue;mp[Hash(i-x+1,i)]=true;}returnfalse;}intmain(){ios::sync_with_stdio(false);cin.tie(0);cout.tie(0);cin&gt;&gt;n&gt;&gt;s;s='|'+s+'#';bs[0]=1;for(inti=1;i&lt;=n;i++){hsh[i]=hsh[i-1]*base+(s[i]-'a');bs[i]=bs[i-1]*base;}//manacherfor(inti=1,mid=0,r=0;i&lt;=n;i++){p[i]=i&gt;r?1:min(p[(mid&lt;&lt;1)-i],r-i+1);while(s[i+p[i]]==s[i-p[i]])p[i]++;if(i+p[i]&gt;r){r=i+p[i]-1;mid=i;}}//äºŒåˆ†ç­”æ¡ˆintl=1,r=n,ans=0;while(l&lt;=r){intmid=(l+r)&gt;&gt;1;if(check(mid)){ans=mid;l=mid+1;}elser=mid-1;}printf(&quot;%d\\n&quot;,ans);}æ€»ç»“&amp;ä¹±ææ—¶é—´å¤æ‚åº¦ä¸ºO(nÃ—logâ¡2n)O(n\\times\\log_2n)O(nÃ—log2â€‹n)ï¼Œè·‘å¾—è¿˜æŒºå¿«ã€‚å®æµ‹ä¸ä½¿ç”¨å“ˆå¸Œï¼Œç›´æ¥å°†å­—ç¬¦ä¸²åŒºé—´æ”¾å…¥unordered_mapï¼Œä¹Ÿå°±æ˜¯O(n2Ã—logâ¡2n)O(n^2\\times\\log_2n)O(n2Ã—log2â€‹n)ä¹Ÿèƒ½è¿‡ï¼Œåªç”¨300+msã€‚","link":"https://yaohaoyou.github.io/AbsMatt.github.io/post/p10271-solution/"},{"title":"GDOI 2024 æ¸¸è®°","content":"ä»Šå¹´çš„ç¬¬ä¸€åœºæ­£å¼èµ›ã€‚Day-?ä½œä¸ºNOIPéƒ½æ²¡æœ‰æ­£æ˜¯åé¢çš„Jokerï¼Œè·å¾—æ¨èåé¢ï¼Œå¤§å–œï¼Day-?å¼€å­¦å°±åœè¯¾ï¼Œå¯’å‡ä½œä¸šè¿˜èƒ½è¡¥ï¼Œå¤§å¤§å–œï¼Day0ä¸Šåˆ_maojun_å»ºäº†æ¨¡æ¿é¢˜å¤§èµ›ï¼Œä½†éƒ½ä¸å¤ªä¼šï¼Œè¢«çˆ†è¸©äº†ã€‚ä¸­åˆåˆå›ä¸œèäº†ï¼Œä¸€ä¸ªä¸‹åˆè²Œä¼¼éƒ½åœ¨é¢“åºŸï¼Œæ ¹æœ¬æ²¡æœ‰å¿ƒæƒ…å¤ä¹ ï¼Œå¸Œæœ›rp++ã€‚æ™šä¸Šcyzçš„ç”µè„‘å°±æ”¾åœ¨æ¡Œå­ä¸Šï¼Œæ•™ç»ƒç«Ÿç„¶å¿˜è®°äº†æ”¶äº†ï¼Ÿï¼Ÿï¼Ÿæˆ‘ä»¬ç”šè‡³22:30åœ¨çœ‹å»å¹´D1T1ã€‚Day16:30å°±èµ·æ¥äº†ï¼Œè„‘å­å¿«èç¼©äº†ï¼Œå’Œcyzçœ‹çœ‹ç½‘ç»œæµæ¿å­ï¼Œé›¶æ—¶æŠ±ä½›è„šï¼Œå¸Œæœ›rp++å§ã€‚åˆšå‡†å¤‡å‡ºé—¨ï¼Œcyzå°±è¦é£Ÿä¾¿å“©ã€‚ç¡¬æ˜¯ç­‰åˆ°7:10æ‰åƒæ—©é¤ã€‚8:00å‡†æ—¶è¿›è€ƒåœºï¼Œèµ›æ—¶æ³¨æ„äº‹é¡¹ç«Ÿç„¶è¯´ä¸ä¼šè¿‡æ»¤è¡Œé¦–æ¢è¡Œï¼Œè¯„ä»·æ˜¯ä¸å¦‚nbojã€‚T1ï¼šä¸€å¼€å§‹ç”šè‡³è®¤ä¸ºç­”æ¡ˆå…·æœ‰äºŒåˆ†æ€§ï¼Œæ‰“å®Œä¹‹åç”šè‡³èƒ½è¿‡æ ·ä¾‹ï¼Œä½†è¿‡ä¸äº†ex_data2ã€‚æœ‰ç‚¹éš¾å—ï¼Œä½†å¯ä»¥æ‹¿æ€§è´¨Açš„30pts.æ„Ÿè§‰D1T1éƒ½åˆ‡ä¸å‡ºæ¥æœ‰ç‚¹è ¢äº†ã€‚é‡æ–°æ„æ€ã€‚1:10å‘ç°å¯ä»¥æšä¸¾mmodnm\\bmodnmmodnï¼Œç„¶åå°†å¼å­å¸¦å…¥åå°±æ˜¯ç±»ä¼¼äºâˆ£sthxâˆ£+âˆ£sthyâˆ£+âˆ‘â‰¤sth|sth_x|+|sth_y|+\\sum\\lesthâˆ£sthxâ€‹âˆ£+âˆ£sthyâ€‹âˆ£+âˆ‘â‰¤sthï¼Œå¼å­é‡Œå°±åªæœ‰ä¸€ä¸ªæœªçŸ¥æ•°ä¸º$\\left\\lfloor\\dfrac{m}{n}\\right\\rfloor$ã€‚ç„¶ååªè¦æšä¸¾ä¸¤ä¸ªç»å¯¹å€¼ä¸­çš„æ­£è´Ÿï¼Œç„¶åçˆ†è§£æœªçŸ¥æ•°å°±è¡Œäº†ï¼Œç»†èŠ‚è¶…å¤šï¼Œä½†æ˜¯O(âˆ‘n)O(\\sumn)O(âˆ‘n)ã€‚2:30å®Œæˆï¼Œè¿‡å¤§æ ·ä¾‹äº†ï¼Œå¤§å¤§å¤§å–œï¼ï¼ï¼wtclã€‚T2ï¼šåˆ‡å®ŒT1è²Œä¼¼å°±ä¸å¤ªæ…Œäº†ï¼Œä¸¤ä¸ªå°æ—¶å°±ä¸ä¿¡æ‰“ä¸å®Œæš´åŠ›ã€‚2:45æ‰“å®Œæš´åŠ›ï¼Œå¼€å§‹å†™ç‰¹æ®Šæ€§è´¨ã€‚Task7,8è²Œä¼¼æ¯”è¾ƒç®€å•ï¼Œn=2n=2n=2ï¼Œåªè¦äºŒåˆ†ç­”æ¡ˆï¼Œå†çŠ¶å‹ä¸€ä¸‹å°±å¥½äº†ã€‚3:00è¿‡å¤§æ ·ä¾‹äº†ã€‚T3ï¼šé¢˜ç›®å¥½è‡­å•Šï¼Œçœ‹äº†åŠå¤©ã€‚å…ˆæ‰“ä¸ªæš´åŠ›ã€‚Task5,6åªç”¨è¾“å…¥nnnï¼Œæ‰“è¡¨æ‰¾ä¸ªè§„å¾‹ï¼Œå‘ç°äº†ans=n!ans=n!ans=n!ã€‚æ‰“å®Œå°±å·®ä¸å¤šäº†ã€‚ä¼°åˆ†ï¼š100+20+24=144pts100+20+24=144pts100+20+24=144ptsã€‚å‡ºè€ƒåœºäº†ï¼Œ_maojun_å’ŒliangbowenT1å·®ä¸€ç‚¹ï¼Œæœ‰ç‚¹æŠ½è±¡ã€‚æˆ‘å¦ˆåˆå¸¦æˆ‘ä»¬å»åƒé¥­ã€‚æ™šä¸Šå›æ¥æ‰“abcï¼ŒEå¥½æŠ½è±¡ï¼ŒDé¢˜unordered_mapæ²¡å¼€longlongï¼Œæ•°ç»„åˆå¼€å°äº†ï¼Œåƒäº†ä¸¤å‘ç­”è¾©REï¼Œå¤ªè ¢äº†ã€‚è¿˜å¥½æœ€åæŠŠFåˆ‡äº†ï¼Œæ¶¨äº†å°åˆ†ã€‚æ‰“å®Œç»§ç»­é¢“åºŸï¼Œ5=1å‡ºäº†UOrangeï¼Œrpå¿«çˆ†ç‚¸äº†ï¼Day2T1ï¼šé¢˜ç›®çš„å›¾ç”šè‡³æ˜¯çº¿æ®µæ ‘ï¼Œæ€è€ƒæ€è€ƒã€‚å¥½åƒæ¯æ¬¡æ“ä½œç›¸å½“äºå°†åŒºé—´minç”±min(ls,rs)min(ls,rs)min(ls,rs)åˆ°lslslsã€‚çœ‹ä¸Šå»å¥½åƒå¯ä»¥æŠŠç‰¹æ®Šæ€§è´¨Bç»™åšäº†ã€‚1:10æ‰“å®Œäº†ï¼Œä½†è¿‡ä¸äº†å¤§æ ·ä¾‹ï¼Œå¥½éš¾å—ã€‚ç»“æœå‡äº†ï¼ŒçœŸçš„è ¢ã€‚å»å†™æš´åŠ›å’ŒAæ€§è´¨äº†ã€‚2:00å†™å®Œäº†ï¼Œ2:30è¿‡å¤§æ ·ä¾‹ï¼Œåˆåªå‰©2häº†ã€‚T2ï¼šé¢˜ç›®è¯»ä¸æ‡‚ï¼Œå…ˆå»åšT3ï¼Œç»“æœT3çœ‹æ‡‚äº†é¢˜ç›®ï¼Œä½†çœ‹ä¸æ‡‚æ ·ä¾‹è§£é‡Šï¼Œåˆå›æ¥äº†ã€‚å…ˆæ‰“äº†ä¸ªæš´åŠ›ï¼Œåˆè¿‡ä¸äº†ç¬¬ä¸‰ä¸ªæ ·ä¾‹ã€‚é‡æ–°è¯»é¢˜ï¼Œç”šè‡³å¯ä»¥åŒä¸€ä¸ªåœ°æ–¹å‰ªä¸¤æ¬¡ï¼Œå¥½ç¦»è°±ï¼3:10æ‰“å®Œæš´åŠ›ï¼Œå¼€å§‹ä¹±æã€‚Bæ€§è´¨å…¶å®éƒ½åŒ…å«m=nâˆ’1m=n-1m=nâˆ’1ï¼Œæ‰€ä»¥å…³ç³»æ˜¯ç¡®å®šçš„ï¼Œå°±æ˜¯ä¿è¯æœ€å111åœ¨æ‰€æœ‰çš„å‰é¢å³å¯ã€‚æ‰“è¡¨å‘ç°ans=1+kn+kans=\\dfrac{1+k}{n+k}ans=n+k1+kâ€‹ï¼Œå¤ªçˆ½äº†ï¼Œåˆæ‰“å‡ºè§„å¾‹äº†ï¼Œæ¯”èµ›ä¹Ÿåªå‰©10minï¼Œæ£€æŸ¥ä¸€æ‰‹ä»£ç ã€‚m=0m=0m=0ç›´æ¥è¾“å‡º1ã€‚T3ï¼šè‡³ä»Šä¸ç†è§£æ ·ä¾‹æ˜¯æ€ä¹ˆåšçš„ï¼Œæ¥ä¸€æ³¢ç„å­¦ã€‚scanf(&quot;%d%d&quot;,&amp;n,&amp;m);while(m--)printf(&quot;%d\\n&quot;,n);ä¼°åˆ†ï¼š40+20+0=60pts40+20+0=60pts40+20+0=60ptsã€‚å‡ºæ¥åå‘ç°ç”šè‡³T3æ²¡æœ‰åˆ¤opt=2äº†ï¼Œä¸èƒ½ç„å­¦äº†ï¼Œå¤§æ‚²ã€‚æ€»ä¼°åˆ†ï¼š(100+20+24)+(40+20+0)=204pts(100+20+24)+(40+20+0)=204pts(100+20+24)+(40+20+0)=204ptsã€‚é™¤éæŒ‚ä¸€ä¸ª4pts4pts4ptsçš„ç‚¹æˆ–ä¸æŒ‚åˆ†æ‰èƒ½ä¸Š200200200ptsã€‚WTCLã€‚Orzyinheeæš´åˆ‡D1T1ï¼ŒD1T2ï¼ŒD2T1ã€‚å›å¹¿å·äº†ï¼Œæ­£å¼å›å½’whkäº†ï¼Œéš¾å—ï¼Day3Yundouä¼°åˆ†(80+12+24)+(45+20+0)=181pts(80+12+24)+(45+20+0)=181pts(80+12+24)+(45+20+0)=181ptsã€‚D1T1ansåˆå€¼è®¾æˆäº†101210^{12}1012ï¼Œè¿™æ³¢å±å®å°ä¸‘äº†ï¼ŒD1T2ä¸çŸ¥é“ä¸ºä»€ä¹ˆäºŒåˆ†ç­”æ¡ˆæŒ‚äº†ï¼Œå¥½åƒæ˜¯n=1n=1n=1çš„å¿˜è®°åˆ¤æ–­äº†ã€‚D2T1å‡è§£å¤šå†²äº†ä¸€ä¸ªç‚¹ã€‚å¸Œæœ›æ­£å¼æ•°æ®D1T1ç­”æ¡ˆå°ä¸€ç‚¹å§ï¼ŒD2T1æ•°æ®æ°´ä¸€ç‚¹ã€‚åœ¨ä¼°ä¸€éå§ï¼š([70,100]+12+24)+([40,45]+20+0)=[166,201]([70,100]+12+24)+([40,45]+20+0)=[166,201]([70,100]+12+24)+([40,45]+20+0)=[166,201]ã€‚åç­‰è¢«æ‰“è„¸&amp;çˆ†è¸©ã€‚GDOI2024rp++\\color{red}\\large\\text{GDOI2024rp++}GDOI2024rp++Day6æ„Ÿè°¢hyxã€‚(70+20+24)+(40+20+0)=174pts(70+20+24)+(40+20+0)=174pts(70+20+24)+(40+20+0)=174ptsï¼ŒåªæŒ‚äº†T1çš„303030pts,éš¾å—ï¼æ²¡æœ‰200+200+200+ã€‚æœ€åå±•ç¤ºä¸€ä¸‹T1éƒ¨åˆ†ä»£ç ã€‚#defineintlonglongintans=1e12;//æ”¹æˆ1e18å°±è¿‡äº†...ans=min(ans,******)ï¼›åœ¨æ­¤å‘èª“ï¼Œä»¥åä»£ç ä¸­åŒ…å«å’Œç­”æ¡ˆå–min/maxçš„æˆ‘å°†æŒ‰ä»¥ä¸‹å½¢å¼ä¹¦å†™ï¼Œéº»çƒ¦å„ä½ç›‘ç£ã€‚bool__=1;intans=0;inlinevoidansmn(intx){if(__)ans=x;elseans=min(ans,x);__=false;}","link":"https://yaohaoyou.github.io/AbsMatt.github.io/post/gdoi2024/"},{"title":"å…³äº","content":"æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤ğŸ å…³äºæœ¬ç«™ğŸ‘¨â€ğŸ’»åšä¸»æ˜¯è°â›¹å…´è¶£çˆ±å¥½ğŸ“¬è”ç³»æˆ‘å‘€Abstract","link":"https://yaohaoyou.github.io/AbsMatt.github.io/post/about/"}]}